"use strict";angular.module("starWarsApp",["ngAnimate","ngCookies","ngResource","ngRoute","ngSanitize","ngTouch"]).config(["$routeProvider",function(a){a.when("/people",{templateUrl:"views/main.html",controller:"MainCtrl"}).when("/people/:index",{templateUrl:"views/detail.html",controller:"DetailCtrl"}).otherwise({redirectTo:"/people"})}]).run(["$http","$q","$rootScope",function(a,b,c){c.people=[],c.loadingEntries=!0,c.searchPlaceholder="Loading...";var d,e="http://swapi.co/api/people/?page=",f=[];a.get(e+1).then(function(a){Array.prototype.push.apply(c.people,a.data.results),d=Math.ceil(a.data.count/10)}).then(function(){for(var g=2;d>=g;)f.push(a({method:"GET",url:e+g,cache:"true"})),++g;b.all(f).then(function(a){for(var b=0;d-1>b;)Array.prototype.push.apply(c.people,a[b].data.results),++b;c.loadingEntries=!1,c.searchPlaceholder="Search"})})}]),angular.module("starWarsApp").controller("MainCtrl",["$scope",function(a){a.orderByInt=function(a){var b=parseInt(a.replace(/\D/g,""));return b?b:Number.POSITIVE_INFINITY},a.orderByBirthYear=function(b){return a.orderByInt(b.birth_year)},a.orderByMass=function(b){return a.orderByInt(b.mass)}}]),angular.module("starWarsApp").controller("DetailCtrl",["$scope","$http","$rootScope","$routeParams",function(a,b,c,d){var e=d.index;c.$watch("people",function(c){if(c.length>e){a.person=c[e];var d=a.person.homeworld;b.get(d).then(function(b){a.planet=b.data})}},!0)}]);